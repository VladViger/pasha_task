webpackJsonp([6],{224:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=n.n(a),i=n(19),o=n.n(i),u=n(132),l=n(133),c=n(214),s=n(158),f=n.n(s),m=n(234),d=n(229),p=f()(),h=n.i(c.a)(p),v=n.i(u.a)(m.a,n.i(u.b)(h)),y=function(){o.a.render(r.a.createElement(l.a,{store:v},r.a.createElement(c.b,{history:p},r.a.createElement(d.a,null))),document.getElementById("root"))};y()},226:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n(317),i=n.n(r),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(){function e(){a(this,e)}return u(e,null,[{key:"_setData",value:function(t){var n=e._address;window.localStorage.setItem(n,JSON.stringify(t))}},{key:"init",value:function(){if(!e._data){var t={usersData:{},usersPass:{}};e._setData(t)}}},{key:"getItems",value:function(){var t=e._data;t=t.usersData;var n=[];for(var a in t)n.push(o({id:a},t[a]));return n}},{key:"authorization",value:function(t,n){var a=e._data,r=void 0;for(var i in a.usersData)if(a.usersData[i].email===t){r=i;break}if(a.usersPass[r])return a.usersPass[r]===n?r:null}},{key:"isItemExist",value:function(t){var n=e._data;for(var a in n.usersData)if(n.usersData[a].email===t)return!0;return!1}},{key:"addItem",value:function(t,n){var a=e._data;a.usersData[t.id]={name:t.name,email:t.email,dateOfBirth:t.dateOfBirth},n&&(a.usersPass[t.id]=n),e._setData(a)}},{key:"deleteItem",value:function(t){var n=e._data;n&&(n.usersData&&delete n.usersData[t],n.usersPass&&delete n.usersPass[t],e._setData(n))}},{key:"installData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.a,n=e._data;Object.assign(n.usersData,t.usersData),Object.assign(n.usersPass,t.usersPass),e._setData(n)}},{key:"_address",get:function(){return"pashaTaskDB:6931038182075413"}},{key:"_data",get:function(){var t=e._address;return JSON.parse(window.localStorage.getItem(t))}}]),e}();l.init(),t.a=l},227:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=function(){return r.a.createElement("footer",{className:"footer-app"},r.a.createElement("p",null,"Developed ",r.a.createElement("a",{href:"https://github.com/VladViger/pasha_task",title:"look at github"},"Vlad.V")," 2017"))};t.a=i},228:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(80),o=n(394),u=n.n(o),l=function(e){return r.a.createElement("header",{className:"header-app"},r.a.createElement("div",{className:"page-header"},r.a.createElement("h1",null,"Birthdays entries",r.a.createElement("br",null),r.a.createElement("small",null,"simple CRUD application"))),r.a.createElement("div",{className:e.userName?"hidden":""},"If you don't have an account, you may ",r.a.createElement(i.e,{to:"/register"},"register"),"."),r.a.createElement("div",{className:e.userName?"":"hidden"},r.a.createElement("p",null,"Hi, ",r.a.createElement("span",{className:"user-name"},e.userName,"!")),r.a.createElement("p",null,"You can edit any entry by double-clicking on it,",r.a.createElement("br",null),"add a new entry on page ",r.a.createElement(i.e,{to:"/create"},'"/create"'),",",r.a.createElement("br",null),"or even delete any of them (be careful, it happens without confirmation)."),r.a.createElement("p",null,"If you are tired of all this, just click",r.a.createElement("a",{href:"#",className:"log-out",onClick:function(e){return e.preventDefault()}},"Â ",r.a.createElement(u.a,{onConfirm:e.handleLogOut,body:"Are you sure you want to logout?",confirmText:"I'm sure",title:"LogOut",confirmBSStyle:"primary"},r.a.createElement("span",null,"LogOut"))))))};t.a=l},229:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),u=n.n(o),l=n(133),c=n(80),s=n(235),f=n(81),m=n(228),d=n(227),p=n(300),h=(n.n(p),n(301)),v=(n.n(h),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),y=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={isConfirm:!0},e}return i(t,e),v(t,[{key:"componentWillReceiveProps",value:function(e){e.loggedIn&&!this.props.loggedIn&&this.props.initEntriesList()}},{key:"handleLogOut",value:function(){this.props.loggedIn&&this.props.logOut()}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"layout"},u.a.createElement(m.a,{userName:this.props.userName,handleLogOut:function(){return e.handleLogOut()}}),n.i(s.a)(this.props.loggedIn),u.a.createElement(d.a,null))}}]),t}(u.a.Component),g=function(e){return{loggedIn:!!e.currentUserId,userName:function(){var t=e.entries.filter(function(t){return t.id===e.currentUserId})[0];return t?t.name:null}()}},E={initEntriesList:f.a,logOut:f.b},b=n.i(c.a)(n.i(l.b)(g,E)(y));t.a=b},230:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),u=n.n(o),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={isLoaded:!1},e}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.load()}},{key:"componentDidUpdate",value:function(e){var t=this;!!Object.keys(this.props.modules).filter(function(n){return t.props.modules[n]!==e.modules[n]}).length&&this.load()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"load",value:function(){var e=this;this.setState({isLoaded:!1});var t=this.props.modules,n=Object.keys(t);Promise.all(n.map(function(e){return t[e]()})).then(function(e){return n.reduce(function(t,n,a){return t[n]=e[a],t},{})}).then(function(t){if(!e._isMounted)return null;e.setState({modules:t,isLoaded:!0})})}},{key:"render",value:function(){return this.state.isLoaded?u.a.Children.only(this.props.children(this.state.modules)):null}}]),t}(u.a.Component);t.a=c},231:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(230);n.d(t,"a",function(){return u}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return f});var o=function(e){return e.then(function(e){return e.default})},u=function(){return r.a.createElement(i.a,{modules:{Entries:function(){return o(n.e(4).then(n.bind(null,519)))}}},function(e){var t=e.Entries;return r.a.createElement(t,null)})},l=function(){return r.a.createElement(i.a,{modules:{LogInPanel:function(){return o(n.e(3).then(n.bind(null,522)))}}},function(e){var t=e.LogInPanel;return r.a.createElement(t,null)})},c=function(){return r.a.createElement(i.a,{modules:{RegisterPanel:function(){return o(n.e(0).then(n.bind(null,523)))}}},function(e){var t=e.RegisterPanel;return r.a.createElement(t,null)})},s=function(){return r.a.createElement(i.a,{modules:{EntryCreator:function(){return o(n.e(2).then(n.bind(null,520)))}}},function(e){var t=e.EntryCreator;return r.a.createElement(t,null)})},f=function(){return r.a.createElement(i.a,{modules:{EntryEditor:function(){return o(n.e(1).then(n.bind(null,521)))}}},function(e){var t=e.EntryEditor;return r.a.createElement(t,null)})}},232:function(e,t,n){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case r.l:return t.id;case r.m:return null;default:return e}}var r=n(81);t.a=a},233:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){return{id:e.id,name:e.name,email:e.email,dateOfBirth:e.dateOfBirth}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case o.h:return[].concat(a(t.entries));case o.i:return[].concat(a(e),[r(t)]);case o.j:return e.map(function(e){return e.id===t.id?r(t):e});case o.k:return e.filter(function(e){return e.id!==t.id});default:return e}}var o=n(81);t.a=i},234:function(e,t,n){"use strict";var a=n(132),r=n(214),i=n(232),o=n(233),u=n.i(a.d)({currentUserId:i.a,entries:o.a,router:r.c});t.a=u},235:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(80),o=n(231),u=function(e){return r.a.createElement("div",{className:"content"},e?r.a.createElement(i.b,null,r.a.createElement(i.c,{exact:!0,path:"/",component:o.a}),r.a.createElement(i.c,{exact:!0,path:"/create",component:o.b}),r.a.createElement(i.c,{exact:!0,path:"/:id",component:o.c}),r.a.createElement(i.c,{exact:!0,path:"/pages/:page",component:o.a}),r.a.createElement(i.d,{to:"/"}),r.a.createElement(i.c,{component:o.a})):r.a.createElement(i.b,null,r.a.createElement(i.c,{exact:!0,path:"/login",component:o.d}),r.a.createElement(i.c,{exact:!0,path:"/register",component:o.e}),r.a.createElement(i.d,{to:"/login"}),r.a.createElement(i.c,{component:o.d})))};t.a=u},301:function(e,t){},317:function(e,t){e.exports={usersData:{idn1j3cl14dqc:{name:"Egor",email:"egor@example.ru",dateOfBirth:"02/02/1980"},id130gcj4egzk:{name:"Colombo D.",email:"mister-d@some-mail.com",dateOfBirth:"11/08/1991"},ida84ro21e0vr:{name:"Kate",email:"kiki@mimi.kz",dateOfBirth:"07/29/2004"},idio8lf6zhee9:{name:"John Wayne",email:"john@wayne.ls",dateOfBirth:"04/01/1950"},idj8c576fuwve:{name:"Diana",email:"dianamail@ex.com",dateOfBirth:"06/02/1977"},id01qr1y98egxz:{name:"Alfa Romeo",email:"romeo@a.it",dateOfBirth:"01/01/1910"},idzifmqn7svv:{name:"Marija Vjuga",email:"sdtwrn@mail.go",dateOfBirth:"05/04/2017"},id81qz72qzjgv:{name:"New Name",email:"new@email.mm",dateOfBirth:"05/24/2017"},idrj9upvqx0j8:{name:"Targa Florio",email:"flore-mail@examle.com",dateOfBirth:"10/09/1965"},idcl15zx9zwtg:{name:"Makarena",email:"uuuuu@makarena.at",dateOfBirth:"05/04/2012"},id216n1g4fedw:{name:"Create next entry",email:"and@mail.below",dateOfBirth:"01/01/1900"}},usersPass:{}}},518:function(e,t,n){e.exports=n(224)},81:function(e,t,n){"use strict";function a(e,t){var n=s.a.authorization(e,t)||null;return{type:m,id:n}}function r(){return{type:d}}function i(){var e=s.a.getItems();return{type:p,entries:e}}function o(){return s.a.installData(),i()}function u(e){var t="id"+Math.random().toString(36).substring(2),n=e.name,a=e.email,r=e.dateOfBirth,i={id:t,name:n,email:a,dateOfBirth:r};return s.a.addItem(i,e.pass),f({type:h},i)}function l(e){return s.a.addItem(e),f({type:v},e)}function c(e){return s.a.deleteItem(e),{type:y,id:e}}var s=n(226);n.d(t,"l",function(){return m}),n.d(t,"m",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"i",function(){return h}),n.d(t,"j",function(){return v}),n.d(t,"k",function(){return y}),t.e=a,t.b=r,t.a=i,t.g=o,t.d=u,t.c=l,t.f=c;var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m="LOG_IN",d="LOG_OUT",p="RECEIVE_ENTRIES",h="ADD_ENTRY",v="EDIT_ENTRY",y="DEL_ENTRY"}},[518]);
//# sourceMappingURL=main-72dd10f6.js.map